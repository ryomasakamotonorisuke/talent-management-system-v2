# トラブルシューティングガイド

## 開発サーバーにアクセスできない場合

### 1. 開発サーバーが起動しているか確認

```powershell
# PowerShellで実行
cd C:\Users\ngf005148\Desktop\webapps\talent
npm run dev
```

正常に起動すると、以下のようなメッセージが表示されます：
```
▲ Next.js 14.0.4
- Local:        http://localhost:3000
- ready started server on 0.0.0.0:3000, url: http://localhost:3000
```

### 2. ポート3000が使用中の場合

他のプロセスがポート3000を使用している可能性があります。

**解決方法1: 他のプロセスを終了**
```powershell
# ポート3000を使用しているプロセスを確認
netstat -ano | findstr :3000

# プロセスIDを確認して終了（例: PID 12345）
taskkill /PID 12345 /F
```

**解決方法2: 別のポートを使用**
```powershell
# ポート3001で起動
npm run dev -- -p 3001
```

ブラウザで `http://localhost:3001` にアクセスしてください。

### 3. 環境変数が正しく設定されているか確認

`.env.local` ファイルが存在し、正しい値が設定されているか確認してください：

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

**確認方法:**
```powershell
# .env.localファイルの存在確認
Test-Path .env.local

# ファイル内容の確認（一部のみ表示）
Get-Content .env.local | Select-Object -First 5
```

### 4. 依存関係がインストールされているか確認

```powershell
# node_modulesが存在するか確認
Test-Path node_modules

# 存在しない場合は再インストール
npm install
```

### 5. エラーログを確認

開発サーバーを起動した際のエラーメッセージを確認してください。

**よくあるエラー:**

1. **環境変数エラー**
   ```
   Missing Supabase environment variables
   ```
   → `.env.local` ファイルを確認し、正しい値を設定してください。

2. **ポート使用中エラー**
   ```
   Port 3000 is already in use
   ```
   → 上記の「ポート3000が使用中の場合」を参照してください。

3. **モジュールが見つからないエラー**
   ```
   Cannot find module 'xxx'
   ```
   → `npm install` を実行して依存関係をインストールしてください。

### 6. ブラウザのキャッシュをクリア

ブラウザのキャッシュが原因の場合があります：
- Chrome: `Ctrl + Shift + Delete` → キャッシュをクリア
- または、シークレットモードで試す

### 7. ファイアウォールの確認

Windowsファイアウォールがポート3000をブロックしている可能性があります。
開発環境では、ローカルホスト（localhost）へのアクセスは通常ブロックされませんが、確認してください。

---

## その他のトラブルシューティング

### Supabase接続エラー

**症状**: ログインできない、データが取得できない

**確認事項:**
1. Supabaseプロジェクトが有効か
2. APIキーが正しいか
3. データベーススキーマが作成されているか（`docs/database-setup.md`を参照）

### ビルドエラー

```powershell
# 型チェック
npm run type-check

# リントチェック
npm run lint

# ビルドテスト
npm run build
```

---

## サポートが必要な場合

1. エラーメッセージの全文をコピー
2. 実行したコマンドを記録
3. `.env.local` の内容（機密情報は除く）を確認

---

**最終更新日**: 2024年

