# ログイン確認チェックリスト

## 「Invalid login credentials」エラーが出る場合

### ✅ ステップ1: Supabaseダッシュボードでユーザーを確認

1. Supabaseダッシュボードにログイン
2. **「Authentication」→「Users」** を選択
3. 以下を確認：
   - ユーザーが表示されているか？
   - メールアドレスは何か？（正確にコピーしてください）
   - ユーザーの行をクリックして詳細を見る
   - **「Confirmed At」**に日付が設定されているか？（Auto ConfirmがONの証拠）

### ✅ ステップ2: 新しいユーザーを作成（推奨）

既存のユーザーで問題がある場合、新規作成を推奨：

1. **「Authentication」→「Users」→「Add user」**
2. 以下を**正確に**入力：
   ```
   Email: test@example.com（必ずメモを取る！）
   Password: Test123456（8文字以上、必ずメモを取る！）
   Auto Confirm User: ✅ ON（絶対にON！）
   ```
3. **「Create user」**をクリック
4. 作成されたユーザーの**UUID**をコピー（例：`a1b2c3d4-e5f6-...`）

### ✅ ステップ3: usersテーブルにレコードを追加

1. **SQL Editor**を開く
2. 以下を実行（UUIDとメールアドレスを置き換え）：

```sql
INSERT INTO users (id, email, name, role, department)
VALUES (
  'ここにコピーしたUUIDを貼り付け',
  'test@example.com',  -- 上で設定したメールアドレス
  '管理者',
  'ADMIN',
  '管理部'
);
```

**重要**: 
- UUIDは必ずSupabase Authで作成したものと完全一致させること
- メールアドレスも完全一致させること

### ✅ ステップ4: アプリでログイン

1. ログインページで以下を**正確に**入力：
   - メールアドレス: ステップ2で設定したもの（コピペ推奨）
   - パスワード: ステップ2で設定したもの
2. 「ログイン」をクリック

### ✅ ステップ5: まだエラーが出る場合

1. ブラウザのコンソール（F12）を開く
2. エラーメッセージの詳細を確認
3. Supabaseダッシュボードの「Logs」→「Auth Logs」を確認
4. 以下を再確認：
   - メールアドレスにスペースやタイプミスがないか
   - パスワードにタイプミスがないか
   - Auto ConfirmがONになっているか
   - UUIDが正しくコピーされているか


